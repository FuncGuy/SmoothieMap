<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (11.0.3) on Tue Oct 08 13:44:22 MSK 2019 -->
<title>SmoothieMapBuilder (SmoothieMap 2.1-SNAPSHOT API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="dc.created" content="2019-10-08">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
<script type="text/javascript" src="../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../jquery/jquery-3.3.1.js"></script>
<script type="text/javascript" src="../../../jquery/jquery-migrate-3.0.1.js"></script>
<script type="text/javascript" src="../../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="SmoothieMapBuilder (SmoothieMap 2.1-SNAPSHOT API)";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/SmoothieMapBuilder.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">io.timeandspace.smoothie</a></div>
<h2 title="Class SmoothieMapBuilder" class="title">Class SmoothieMapBuilder&lt;K,&#8203;V&gt;</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>io.timeandspace.smoothie.SmoothieMapBuilder&lt;K,&#8203;V&gt;</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>K</code> - the type of keys in created SmoothieMaps</dd>
<dd><code>V</code> - the type of values in created SmoothieMaps</dd>
</dl>
<hr>
<pre>public final class <span class="typeNameLabel">SmoothieMapBuilder&lt;K,&#8203;V&gt;</span>
extends <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a></pre>
<div class="block">SmoothieMapBuilder is used to configure and create <a href="SmoothieMap.html" title="class in io.timeandspace.smoothie"><code>SmoothieMap</code></a>s. A new builder could be
 created via <a href="SmoothieMap.html#newBuilder()"><code>SmoothieMap.newBuilder()</code></a> method. A SmoothieMap is created using <a href="#build()"><code>build()</code></a> method.

 <p>SmoothieMapBuilder is mutable: all its configuration methods change its state, and return the
 receiver builder object to enable the "fluent builder" pattern:
 <pre><code>
 SmoothieMap.newBuilder().expectedSize(100_000).doShrink(false).build();
 </code></pre>

 <p>SmoothieMapBuilder could be used to create any number of SmoothieMap objects. Created
 SmoothieMaps don't retain a link to the builder and therefore don't depend on any possible
 subsequent modifications of the builder's state.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code><a href="SmoothieMapBuilder.html" title="class in io.timeandspace.smoothie">SmoothieMapBuilder</a>&lt;<a href="SmoothieMapBuilder.html" title="type parameter in SmoothieMapBuilder">K</a>,&#8203;<a href="SmoothieMapBuilder.html" title="type parameter in SmoothieMapBuilder">V</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#allocateIntermediateCapacitySegments(boolean)">allocateIntermediateCapacitySegments</a></span>&#8203;(boolean&nbsp;allocateIntermediateCapacitySegments)</code></th>
<td class="colLast">
<div class="block">Specifies whether during the growth of SmoothieMaps created with this builder they should
 first allocate intermediate-capacity segments and then reallocate them as full-capacity
 segments when needed, or allocate full-capacity segments right away.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code><a href="SmoothieMap.html" title="class in io.timeandspace.smoothie">SmoothieMap</a>&lt;<a href="SmoothieMapBuilder.html" title="type parameter in SmoothieMapBuilder">K</a>,&#8203;<a href="SmoothieMapBuilder.html" title="type parameter in SmoothieMapBuilder">V</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#build()">build</a></span>()</code></th>
<td class="colLast">
<div class="block">Creates a new <a href="SmoothieMap.html" title="class in io.timeandspace.smoothie"><code>SmoothieMap</code></a> with the configurations from this builder.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code><a href="SmoothieMapBuilder.html" title="class in io.timeandspace.smoothie">SmoothieMapBuilder</a>&lt;<a href="SmoothieMapBuilder.html" title="type parameter in SmoothieMapBuilder">K</a>,&#8203;<a href="SmoothieMapBuilder.html" title="type parameter in SmoothieMapBuilder">V</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#defaultKeyEquivalence()">defaultKeyEquivalence</a></span>()</code></th>
<td class="colLast">
<div class="block">Sets the <a href="../collect/Equivalence.html" title="class in io.timeandspace.collect"><code>Equivalence</code></a> <a href="../collect/map/ObjObjMap.html#keyEquivalence()">used for comparing keys</a> in SmoothieMaps created with this builder to <a href="../collect/Equivalence.html#defaultEquality()"><code>Equivalence.defaultEquality()</code></a>.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code><a href="SmoothieMapBuilder.html" title="class in io.timeandspace.smoothie">SmoothieMapBuilder</a>&lt;<a href="SmoothieMapBuilder.html" title="type parameter in SmoothieMapBuilder">K</a>,&#8203;<a href="SmoothieMapBuilder.html" title="type parameter in SmoothieMapBuilder">V</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#defaultKeyHashFunction()">defaultKeyHashFunction</a></span>()</code></th>
<td class="colLast">
<div class="block">Specifies that SmoothieMaps created with this builder should use the default key hash
 function which derives a 64-bit hash code from the 32-bit result of calling <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang" class="externalLink"><code>Object.hashCode()</code></a> on the key object (or <a href="../collect/Equivalence.html#hash(T)"><code>Equivalence.hash(T)</code></a>, if <a href="#keyEquivalence(io.timeandspace.collect.Equivalence)"><code>keyEquivalence(Equivalence)</code></a> is configured for the builder).</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code><a href="SmoothieMapBuilder.html" title="class in io.timeandspace.smoothie">SmoothieMapBuilder</a>&lt;<a href="SmoothieMapBuilder.html" title="type parameter in SmoothieMapBuilder">K</a>,&#8203;<a href="SmoothieMapBuilder.html" title="type parameter in SmoothieMapBuilder">V</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#defaultOptimizationConfiguration()">defaultOptimizationConfiguration</a></span>()</code></th>
<td class="colLast">
<div class="block">Specifies that SmoothieMaps created using this builder should operate in "mixed" mode which
 is a compromise between <a href="OptimizationObjective.html#FOOTPRINT"><code>OptimizationObjective.FOOTPRINT</code></a> and <a href="OptimizationObjective.html#LOW_GARBAGE"><code>OptimizationObjective.LOW_GARBAGE</code></a>.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code><a href="SmoothieMapBuilder.html" title="class in io.timeandspace.smoothie">SmoothieMapBuilder</a>&lt;<a href="SmoothieMapBuilder.html" title="type parameter in SmoothieMapBuilder">K</a>,&#8203;<a href="SmoothieMapBuilder.html" title="type parameter in SmoothieMapBuilder">V</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#defaultValueEquivalence()">defaultValueEquivalence</a></span>()</code></th>
<td class="colLast">
<div class="block">Sets the <a href="../collect/Equivalence.html" title="class in io.timeandspace.collect"><code>Equivalence</code></a> <a href="../collect/map/ObjObjMap.html#valueEquivalence()">used for comparing values</a> in
 SmoothieMaps created with this builder to <a href="../collect/Equivalence.html#defaultEquality()"><code>Equivalence.defaultEquality()</code></a>.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code><a href="SmoothieMapBuilder.html" title="class in io.timeandspace.smoothie">SmoothieMapBuilder</a>&lt;<a href="SmoothieMapBuilder.html" title="type parameter in SmoothieMapBuilder">K</a>,&#8203;<a href="SmoothieMapBuilder.html" title="type parameter in SmoothieMapBuilder">V</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#doShrink(boolean)">doShrink</a></span>&#8203;(boolean&nbsp;doShrink)</code></th>
<td class="colLast">
<div class="block">Specifies whether SmoothieMaps created with this builder should automatically shrink, i.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code><a href="SmoothieMapBuilder.html" title="class in io.timeandspace.smoothie">SmoothieMapBuilder</a>&lt;<a href="SmoothieMapBuilder.html" title="type parameter in SmoothieMapBuilder">K</a>,&#8203;<a href="SmoothieMapBuilder.html" title="type parameter in SmoothieMapBuilder">V</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#expectedSize(long)">expectedSize</a></span>&#8203;(long&nbsp;expectedSize)</code></th>
<td class="colLast">
<div class="block">Specifies the expected <i>steady-state</i> size of each <a href="SmoothieMap.html" title="class in io.timeandspace.smoothie"><code>SmoothieMap</code></a> created using
 this builder.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code><a href="SmoothieMapBuilder.html" title="class in io.timeandspace.smoothie">SmoothieMapBuilder</a>&lt;<a href="SmoothieMapBuilder.html" title="type parameter in SmoothieMapBuilder">K</a>,&#8203;<a href="SmoothieMapBuilder.html" title="type parameter in SmoothieMapBuilder">V</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#keyEquivalence(io.timeandspace.collect.Equivalence)">keyEquivalence</a></span>&#8203;(<a href="../collect/Equivalence.html" title="class in io.timeandspace.collect">Equivalence</a>&lt;<a href="SmoothieMapBuilder.html" title="type parameter in SmoothieMapBuilder">K</a>&gt;&nbsp;keyEquivalence)</code></th>
<td class="colLast">
<div class="block">Sets the <a href="../collect/Equivalence.html" title="class in io.timeandspace.collect"><code>Equivalence</code></a> <a href="../collect/map/ObjObjMap.html#keyEquivalence()">used for comparing keys</a> in SmoothieMaps created with this builder to the given equivalence.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code><a href="SmoothieMapBuilder.html" title="class in io.timeandspace.smoothie">SmoothieMapBuilder</a>&lt;<a href="SmoothieMapBuilder.html" title="type parameter in SmoothieMapBuilder">K</a>,&#8203;<a href="SmoothieMapBuilder.html" title="type parameter in SmoothieMapBuilder">V</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#keyHashFunction(java.util.function.ToLongFunction)">keyHashFunction</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/function/ToLongFunction.html?is-external=true" title="class or interface in java.util.function" class="externalLink">ToLongFunction</a>&lt;<a href="SmoothieMapBuilder.html" title="type parameter in SmoothieMapBuilder">K</a>&gt;&nbsp;hashFunction)</code></th>
<td class="colLast">
<div class="block">Sets a key hash function to be used in <a href="SmoothieMap.html" title="class in io.timeandspace.smoothie">SmoothieMaps</a> created with
 this builder.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code><a href="SmoothieMapBuilder.html" title="class in io.timeandspace.smoothie">SmoothieMapBuilder</a>&lt;<a href="SmoothieMapBuilder.html" title="type parameter in SmoothieMapBuilder">K</a>,&#8203;<a href="SmoothieMapBuilder.html" title="type parameter in SmoothieMapBuilder">V</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#keyHashFunctionFactory(java.util.function.Supplier)">keyHashFunctionFactory</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/function/Supplier.html?is-external=true" title="class or interface in java.util.function" class="externalLink">Supplier</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/function/ToLongFunction.html?is-external=true" title="class or interface in java.util.function" class="externalLink">ToLongFunction</a>&lt;<a href="SmoothieMapBuilder.html" title="type parameter in SmoothieMapBuilder">K</a>&gt;&gt;&nbsp;hashFunctionFactory)</code></th>
<td class="colLast">
<div class="block">Sets a factory to obtain a key hash function for each <a href="SmoothieMap.html" title="class in io.timeandspace.smoothie"><code>SmoothieMap</code></a> created using this
 builder.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code><a href="SmoothieMapBuilder.html" title="class in io.timeandspace.smoothie">SmoothieMapBuilder</a>&lt;<a href="SmoothieMapBuilder.html" title="type parameter in SmoothieMapBuilder">K</a>,&#8203;<a href="SmoothieMapBuilder.html" title="type parameter in SmoothieMapBuilder">V</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#minPeakSize(long)">minPeakSize</a></span>&#8203;(long&nbsp;minPeakSize)</code></th>
<td class="colLast">
<div class="block">Specifies the minimum bound of the <i>peak</i> size of each <a href="SmoothieMap.html" title="class in io.timeandspace.smoothie"><code>SmoothieMap</code></a> created
 using this builder.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code><a href="SmoothieMapBuilder.html" title="class in io.timeandspace.smoothie">SmoothieMapBuilder</a>&lt;<a href="SmoothieMapBuilder.html" title="type parameter in SmoothieMapBuilder">K</a>,&#8203;<a href="SmoothieMapBuilder.html" title="type parameter in SmoothieMapBuilder">V</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#optimizeFor(io.timeandspace.smoothie.OptimizationObjective)">optimizeFor</a></span>&#8203;(<a href="OptimizationObjective.html" title="enum in io.timeandspace.smoothie">OptimizationObjective</a>&nbsp;optimizationObjective)</code></th>
<td class="colLast">
<div class="block">Specifies whether SmoothieMaps created using this builder should operate in the "low-garbage"
 mode (if <a href="OptimizationObjective.html#LOW_GARBAGE"><code>OptimizationObjective.LOW_GARBAGE</code></a> is passed into this method) or the
 "footprint" mode (if <a href="OptimizationObjective.html#FOOTPRINT"><code>OptimizationObjective.FOOTPRINT</code></a> is passed into this method).</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code><a href="SmoothieMapBuilder.html" title="class in io.timeandspace.smoothie">SmoothieMapBuilder</a>&lt;<a href="SmoothieMapBuilder.html" title="type parameter in SmoothieMapBuilder">K</a>,&#8203;<a href="SmoothieMapBuilder.html" title="type parameter in SmoothieMapBuilder">V</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#splitBetweenTwoNewSegments(boolean)">splitBetweenTwoNewSegments</a></span>&#8203;(boolean&nbsp;splitBetweenTwoNewSegments)</code></th>
<td class="colLast">
<div class="block">Specifies whether when segments are split in SmoothieMaps created with this builder, the
 entries from the segment being split should be moved into two new intermediate-capacity
 segments or the entries should be distributed between the old segment one newly allocated
 segment (full-capacity or intermediate-capacity).</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code><a href="SmoothieMapBuilder.html" title="class in io.timeandspace.smoothie">SmoothieMapBuilder</a>&lt;<a href="SmoothieMapBuilder.html" title="type parameter in SmoothieMapBuilder">K</a>,&#8203;<a href="SmoothieMapBuilder.html" title="type parameter in SmoothieMapBuilder">V</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#unknownExpectedSize()">unknownExpectedSize</a></span>()</code></th>
<td class="colLast">
<div class="block">Specifies that the expected size of each <a href="SmoothieMap.html" title="class in io.timeandspace.smoothie"><code>SmoothieMap</code></a> created using this builder is
 unknown.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code><a href="SmoothieMapBuilder.html" title="class in io.timeandspace.smoothie">SmoothieMapBuilder</a>&lt;<a href="SmoothieMapBuilder.html" title="type parameter in SmoothieMapBuilder">K</a>,&#8203;<a href="SmoothieMapBuilder.html" title="type parameter in SmoothieMapBuilder">V</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#unknownMinPeakSize()">unknownMinPeakSize</a></span>()</code></th>
<td class="colLast">
<div class="block">Specifies that the minimum bound of the peak size of each <a href="SmoothieMap.html" title="class in io.timeandspace.smoothie"><code>SmoothieMap</code></a> created using
 this builder is unknown.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code><a href="SmoothieMapBuilder.html" title="class in io.timeandspace.smoothie">SmoothieMapBuilder</a>&lt;<a href="SmoothieMapBuilder.html" title="type parameter in SmoothieMapBuilder">K</a>,&#8203;<a href="SmoothieMapBuilder.html" title="type parameter in SmoothieMapBuilder">V</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#valueEquivalence(io.timeandspace.collect.Equivalence)">valueEquivalence</a></span>&#8203;(<a href="../collect/Equivalence.html" title="class in io.timeandspace.collect">Equivalence</a>&lt;<a href="SmoothieMapBuilder.html" title="type parameter in SmoothieMapBuilder">V</a>&gt;&nbsp;valueEquivalence)</code></th>
<td class="colLast">
<div class="block">Sets the <a href="../collect/Equivalence.html" title="class in io.timeandspace.collect"><code>Equivalence</code></a> <a href="../collect/map/ObjObjMap.html#valueEquivalence()">used for comparing values</a> in
 SmoothieMaps created with this builder to the given equivalence.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang" class="externalLink">clone</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang" class="externalLink">equals</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang" class="externalLink">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang" class="externalLink">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang" class="externalLink">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang" class="externalLink">notify</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang" class="externalLink">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang" class="externalLink">toString</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang" class="externalLink">wait</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang" class="externalLink">wait</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#wait(long,int)" title="class or interface in java.lang" class="externalLink">wait</a></code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="optimizeFor(io.timeandspace.smoothie.OptimizationObjective)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>optimizeFor</h4>
<pre class="methodSignature"><a href="https://static.javadoc.io/com.google.errorprone/error_prone_annotations/2.3.3/com/google/errorprone/annotations/CanIgnoreReturnValue.html?is-external=true" title="class or interface in com.google.errorprone.annotations" class="externalLink">@CanIgnoreReturnValue</a>
<a href="https://static.javadoc.io/org.jetbrains/annotations/17.0.0/org/jetbrains/annotations/Contract.html?is-external=true" title="class or interface in org.jetbrains.annotations" class="externalLink">@Contract</a>("_ -&gt; this")
public&nbsp;<a href="SmoothieMapBuilder.html" title="class in io.timeandspace.smoothie">SmoothieMapBuilder</a>&lt;<a href="SmoothieMapBuilder.html" title="type parameter in SmoothieMapBuilder">K</a>,&#8203;<a href="SmoothieMapBuilder.html" title="type parameter in SmoothieMapBuilder">V</a>&gt;&nbsp;optimizeFor&#8203;(<a href="OptimizationObjective.html" title="enum in io.timeandspace.smoothie">OptimizationObjective</a>&nbsp;optimizationObjective)</pre>
<div class="block">Specifies whether SmoothieMaps created using this builder should operate in the "low-garbage"
 mode (if <a href="OptimizationObjective.html#LOW_GARBAGE"><code>OptimizationObjective.LOW_GARBAGE</code></a> is passed into this method) or the
 "footprint" mode (if <a href="OptimizationObjective.html#FOOTPRINT"><code>OptimizationObjective.FOOTPRINT</code></a> is passed into this method). See
 the documentation for these enum constants for more details about the modes.

 <p>By default, SmoothieMaps operate in the "mixed" mode which is a compromise between the
 "low-garbage" and the "footprint" modes. Calling <a href="#defaultOptimizationConfiguration()"><code>defaultOptimizationConfiguration()</code></a>
 configures this mode explicitly.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>optimizationObjective</code> - the primary optimization objective for created SmoothieMaps</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>this builder back</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/NullPointerException.html?is-external=true" title="class or interface in java.lang" class="externalLink">NullPointerException</a></code> - if the provided optimization objective is null</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#defaultOptimizationConfiguration()"><code>defaultOptimizationConfiguration()</code></a></dd>
</dl>
</li>
</ul>
<a id="defaultOptimizationConfiguration()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>defaultOptimizationConfiguration</h4>
<pre class="methodSignature"><a href="https://static.javadoc.io/com.google.errorprone/error_prone_annotations/2.3.3/com/google/errorprone/annotations/CanIgnoreReturnValue.html?is-external=true" title="class or interface in com.google.errorprone.annotations" class="externalLink">@CanIgnoreReturnValue</a>
<a href="https://static.javadoc.io/org.jetbrains/annotations/17.0.0/org/jetbrains/annotations/Contract.html?is-external=true" title="class or interface in org.jetbrains.annotations" class="externalLink">@Contract</a>(" -&gt; this")
public&nbsp;<a href="SmoothieMapBuilder.html" title="class in io.timeandspace.smoothie">SmoothieMapBuilder</a>&lt;<a href="SmoothieMapBuilder.html" title="type parameter in SmoothieMapBuilder">K</a>,&#8203;<a href="SmoothieMapBuilder.html" title="type parameter in SmoothieMapBuilder">V</a>&gt;&nbsp;defaultOptimizationConfiguration()</pre>
<div class="block">Specifies that SmoothieMaps created using this builder should operate in "mixed" mode which
 is a compromise between <a href="OptimizationObjective.html#FOOTPRINT"><code>OptimizationObjective.FOOTPRINT</code></a> and <a href="OptimizationObjective.html#LOW_GARBAGE"><code>OptimizationObjective.LOW_GARBAGE</code></a>.</div>
<dl>
<dt><span class="simpleTagLabel">Implementation Requirements:</span></dt>
<dd>the "mixed" mode includes <a href="#allocateIntermediateCapacitySegments(boolean)">allocating intermediate-capacity segments</a> and
 <a href="#doShrink(boolean)">turning SmoothieMap shrinking on</a>, but <i>doesn't</i> include
 <a href="#splitBetweenTwoNewSegments(boolean)">splitting segments between two new ones</a>.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>this builder back</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#optimizeFor(io.timeandspace.smoothie.OptimizationObjective)"><code>optimizeFor(io.timeandspace.smoothie.OptimizationObjective)</code></a></dd>
</dl>
</li>
</ul>
<a id="allocateIntermediateCapacitySegments(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>allocateIntermediateCapacitySegments</h4>
<pre class="methodSignature"><a href="https://static.javadoc.io/com.google.errorprone/error_prone_annotations/2.3.3/com/google/errorprone/annotations/CanIgnoreReturnValue.html?is-external=true" title="class or interface in com.google.errorprone.annotations" class="externalLink">@CanIgnoreReturnValue</a>
<a href="https://static.javadoc.io/org.jetbrains/annotations/17.0.0/org/jetbrains/annotations/Contract.html?is-external=true" title="class or interface in org.jetbrains.annotations" class="externalLink">@Contract</a>("_ -&gt; this")
public&nbsp;<a href="SmoothieMapBuilder.html" title="class in io.timeandspace.smoothie">SmoothieMapBuilder</a>&lt;<a href="SmoothieMapBuilder.html" title="type parameter in SmoothieMapBuilder">K</a>,&#8203;<a href="SmoothieMapBuilder.html" title="type parameter in SmoothieMapBuilder">V</a>&gt;&nbsp;allocateIntermediateCapacitySegments&#8203;(boolean&nbsp;allocateIntermediateCapacitySegments)</pre>
<div class="block">Specifies whether during the growth of SmoothieMaps created with this builder they should
 first allocate intermediate-capacity segments and then reallocate them as full-capacity
 segments when needed, or allocate full-capacity segments right away.

 <p>SmoothieMap stores the entries in small <i>segments</i> which are mini hash tables on
 their own. This hash table becomes full when the number of entries stored in it exceeds N.
 At this point, a segment is <i>split into two parts</i>. At least one new segment should be
 allocated upon a split to become the second part (or two new segments, if configured via
 <a href="#splitBetweenTwoNewSegments(boolean)"><code>splitBetweenTwoNewSegments(boolean)</code></a>). The population of each of these two parts just
 after the split is approximately N/2, subject to some variability (while their joint
 population is N + 1). The entry storage capacity of segments is decoupled from the hash
 table, so a newly allocated segment may have entry storage capacity smaller than N. A segment
 of storage capacity of approximately (2/3) * N is called an <i>intermediate-capacity
 segment</i>, and a segment  of storage capacity N is called a <i>full-capacity segment</i>.

 <p>Thus, upon a segment split, a newly allocated intermediate-capacity segment is on average
 75% full in terms of the entry storage capacity, while a newly allocated full-capacity
 segment is on average 50% full. When the number of entries stored in an intermediate-capacity
 segment grows beyond its storage capacity (approximately, (2/3) * N), it's <i>reallocated</i>
 in place as a full-capacity segment.

 <p>Thus, intermediate-capacity segments reduce the total SmoothieMap's footprint per stored
 entry as well as the variability of the footprint at different SmoothieMap's sizes. The
 drawbacks of intermediate-capacity segments are:
 <ul>
     <li>They are transient: being allocated and reclaimed during the growth of a SmoothieMap.
     The total amount of garbage produced by a SmoothieMap instance (assuming it grows from
     size 0 and neither <a href="#expectedSize(long)"><code>expectedSize(long)</code></a> nor <a href="#minPeakSize(long)"><code>minPeakSize(long)</code></a> was
     configured) becomes comparable with the SmoothieMap's footprint, though still lower than
     the total amount of garbage produced by a typical open-addressing hash table
     implementation such as <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/IdentityHashMap.html?is-external=true" title="class or interface in java.util" class="externalLink"><code>IdentityHashMap</code></a>, and comparable to the the total
     amount of garbage produced by entry-based hash maps (<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/HashMap.html?is-external=true" title="class or interface in java.util" class="externalLink"><code>HashMap</code></a> and <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/ConcurrentHashMap.html?is-external=true" title="class or interface in java.util.concurrent" class="externalLink"><code>ConcurrentHashMap</code></a>) without pre-configured capacity and assuming
     that entries are not removed from them.</li>
     <li>Reallocation of intermediate-capacity segments into full-capacity segments
     contributes the amortized cost of inserting entries into a SmoothieMap.</li>
     <li>The mix of full-capacity and intermediate-capacity segments precludes certain
     variables to be hard-coded and generally adds some unpredictability (from the CPU
     perspective) to SmoothieMap's key lookup and insertion operations which might slower them
     relative to the setup where only full-capacity segments are used.</li>
 </ul>

 <p>By default, intermediate-capacity segments <i>are</i> allocated as a part of <a href="#defaultOptimizationConfiguration()">the "mixed" mode (the default mode)</a> of SmoothieMap's
 operation. Intermediate-capacity segments are allocated in the "mixed" and the <a href="OptimizationObjective.html#FOOTPRINT">"footprint"</a> modes, but are not allocated in the <a href="OptimizationObjective.html#LOW_GARBAGE">"low-garbage"</a> mode.

 <p>Disabling allocating intermediate-capacity segments (that is, passing <code>false</code> into
 this method) also implicitly disables <a href="#splitBetweenTwoNewSegments(boolean)">splitting between two new segments</a> because it doesn't make sense to allocate two new
 full-capacity segments and move entries there while we already have one full-capacity segment
 at hand (the old one).</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>allocateIntermediateCapacitySegments</code> - whether the created SmoothieMaps should allocate
        intermediate-capacity segments during the growth</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>this builder back</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#splitBetweenTwoNewSegments(boolean)"><code>splitBetweenTwoNewSegments(boolean)</code></a></dd>
</dl>
</li>
</ul>
<a id="splitBetweenTwoNewSegments(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>splitBetweenTwoNewSegments</h4>
<pre class="methodSignature"><a href="https://static.javadoc.io/com.google.errorprone/error_prone_annotations/2.3.3/com/google/errorprone/annotations/CanIgnoreReturnValue.html?is-external=true" title="class or interface in com.google.errorprone.annotations" class="externalLink">@CanIgnoreReturnValue</a>
<a href="https://static.javadoc.io/org.jetbrains/annotations/17.0.0/org/jetbrains/annotations/Contract.html?is-external=true" title="class or interface in org.jetbrains.annotations" class="externalLink">@Contract</a>("_ -&gt; this")
public&nbsp;<a href="SmoothieMapBuilder.html" title="class in io.timeandspace.smoothie">SmoothieMapBuilder</a>&lt;<a href="SmoothieMapBuilder.html" title="type parameter in SmoothieMapBuilder">K</a>,&#8203;<a href="SmoothieMapBuilder.html" title="type parameter in SmoothieMapBuilder">V</a>&gt;&nbsp;splitBetweenTwoNewSegments&#8203;(boolean&nbsp;splitBetweenTwoNewSegments)</pre>
<div class="block">Specifies whether when segments are split in SmoothieMaps created with this builder, the
 entries from the segment being split should be moved into two new intermediate-capacity
 segments or the entries should be distributed between the old segment one newly allocated
 segment (full-capacity or intermediate-capacity).

 <p>See the description of the model of segments and the definitions of
 <i>intermediate-capacity</i> and <i>full-capacity</i> segments in the documentation for
 <a href="#allocateIntermediateCapacitySegments(boolean)"><code>allocateIntermediateCapacitySegments(boolean)</code></a>. Moving entries from the old segment
 into two newly allocated intermediate-capacity segments means that just after the split they
 are jointly 75% full in terms of the entry storage capacity. Both newly allocated segments
 may then be reallocated as full-capacity segments when needed. One full-capacity segment and
 one newly allocated intermediate-capacity segment are jointly 60% full. Two full-capacity
 segments, the old one and a newly allocated one (if the allocation of intermediate-capacity
 segments is turned off) are jointly 50% full.

 <p>Thus, splitting between two newly allocated segments lowers the footprint per entry and
 the footprint variability at different SmoothieMap's sizes as much as possible. The downside
 of this strategy is that during SmoothieMap's growth, one full-capacity and two
 intermediate-capacity segments are allocated and then dropped per every 2 * N entries (given
 that a segment's hash table capacity is N) every time the map doubles in size. This is a
 significant rate of heap memory churn, exceeding that of typical open-addressing hash table
 implementations such as <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/IdentityHashMap.html?is-external=true" title="class or interface in java.util" class="externalLink"><code>IdentityHashMap</code></a> and entry-based hash maps: <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/HashMap.html?is-external=true" title="class or interface in java.util" class="externalLink"><code>HashMap</code></a> or <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/ConcurrentHashMap.html?is-external=true" title="class or interface in java.util.concurrent" class="externalLink"><code>ConcurrentHashMap</code></a>.

 <p>By default, during a split, entries are distributed between the old (full-capacity)
 segment and a newly allocated intermediate-capacity segment, as per <a href="#defaultOptimizationConfiguration()">the "mixed" mode (the default mode)</a> of SmoothieMap's
 operation, that is, by default, splitting is <i>not</i> done between two newly allocated
 segments. Splitting between two new segments is not done in the <a href="OptimizationObjective.html#LOW_GARBAGE">"low-garbage"</a> and the "mixed" modes. It's enabled only in
 the <a href="OptimizationObjective.html#FOOTPRINT">"footprint"</a> mode.

 <p>Enabling splitting between two new segments also implicitly enables <a href="#allocateIntermediateCapacitySegments(boolean)">allocation of intermediate-capacity segments</a>
 because the former doesn't make sense without the latter.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>splitBetweenTwoNewSegments</code> - whether created SmoothieMaps should move entries from
        full-capacity segments into two newly allocated intermediate-capacity segments during
        growth</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>this builder back</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#allocateIntermediateCapacitySegments(boolean)"><code>allocateIntermediateCapacitySegments(boolean)</code></a>, 
<a href="OptimizationObjective.html#FOOTPRINT"><code>OptimizationObjective.FOOTPRINT</code></a></dd>
</dl>
</li>
</ul>
<a id="doShrink(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>doShrink</h4>
<pre class="methodSignature"><a href="https://static.javadoc.io/com.google.errorprone/error_prone_annotations/2.3.3/com/google/errorprone/annotations/CanIgnoreReturnValue.html?is-external=true" title="class or interface in com.google.errorprone.annotations" class="externalLink">@CanIgnoreReturnValue</a>
<a href="https://static.javadoc.io/org.jetbrains/annotations/17.0.0/org/jetbrains/annotations/Contract.html?is-external=true" title="class or interface in org.jetbrains.annotations" class="externalLink">@Contract</a>("_ -&gt; this")
public&nbsp;<a href="SmoothieMapBuilder.html" title="class in io.timeandspace.smoothie">SmoothieMapBuilder</a>&lt;<a href="SmoothieMapBuilder.html" title="type parameter in SmoothieMapBuilder">K</a>,&#8203;<a href="SmoothieMapBuilder.html" title="type parameter in SmoothieMapBuilder">V</a>&gt;&nbsp;doShrink&#8203;(boolean&nbsp;doShrink)</pre>
<div class="block">Specifies whether SmoothieMaps created with this builder should automatically shrink, i. e.
 reclaim the allocated heap space when they reduce in size.

 <p>By default, shrinking is turned on as a part of <a href="#defaultOptimizationConfiguration()">the "mixed" mode (the default mode)</a> of SmoothieMap's
 operation. The "mixed" and the <a href="OptimizationObjective.html#FOOTPRINT">"footprint"</a> modes
 turn shrinking on, but the <a href="OptimizationObjective.html#LOW_GARBAGE">"low-garbage"</a> mode
 turns shrinking off.

 <p>Automatic shrinking creates some low-volume stream of allocations and reclamations of
 heap memory objects when entries are dynamically put into and removed from the SmoothieMap
 even if the number of entries in the map remains relatively stable during this process,
 though at a much lower rate than garbage is produced by entry-based Map implementations such
 as <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/HashMap.html?is-external=true" title="class or interface in java.util" class="externalLink"><code>HashMap</code></a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/TreeMap.html?is-external=true" title="class or interface in java.util" class="externalLink"><code>TreeMap</code></a>, or <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/ConcurrentHashMap.html?is-external=true" title="class or interface in java.util.concurrent" class="externalLink"><code>ConcurrentHashMap</code></a> during a similar process.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>doShrink</code> - whether the created SmoothieMaps should automatically reclaim memory when
        they reduce in size</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>this builder back</dd>
</dl>
</li>
</ul>
<a id="keyEquivalence(io.timeandspace.collect.Equivalence)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>keyEquivalence</h4>
<pre class="methodSignature"><a href="https://static.javadoc.io/com.google.errorprone/error_prone_annotations/2.3.3/com/google/errorprone/annotations/CanIgnoreReturnValue.html?is-external=true" title="class or interface in com.google.errorprone.annotations" class="externalLink">@CanIgnoreReturnValue</a>
<a href="https://static.javadoc.io/org.jetbrains/annotations/17.0.0/org/jetbrains/annotations/Contract.html?is-external=true" title="class or interface in org.jetbrains.annotations" class="externalLink">@Contract</a>("_ -&gt; this")
public&nbsp;<a href="SmoothieMapBuilder.html" title="class in io.timeandspace.smoothie">SmoothieMapBuilder</a>&lt;<a href="SmoothieMapBuilder.html" title="type parameter in SmoothieMapBuilder">K</a>,&#8203;<a href="SmoothieMapBuilder.html" title="type parameter in SmoothieMapBuilder">V</a>&gt;&nbsp;keyEquivalence&#8203;(<a href="../collect/Equivalence.html" title="class in io.timeandspace.collect">Equivalence</a>&lt;<a href="SmoothieMapBuilder.html" title="type parameter in SmoothieMapBuilder">K</a>&gt;&nbsp;keyEquivalence)</pre>
<div class="block">Sets the <a href="../collect/Equivalence.html" title="class in io.timeandspace.collect"><code>Equivalence</code></a> <a href="../collect/map/ObjObjMap.html#keyEquivalence()">used for comparing keys</a> in SmoothieMaps created with this builder to the given equivalence.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>keyEquivalence</code> - the key equivalence to use in created SmoothieMaps</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>this builder back</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/NullPointerException.html?is-external=true" title="class or interface in java.lang" class="externalLink">NullPointerException</a></code> - if the given equivalence object is null</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#defaultKeyEquivalence()"><code>defaultKeyEquivalence()</code></a>, 
<a href="../collect/map/ObjObjMap.html#keyEquivalence()"><code>ObjObjMap.keyEquivalence()</code></a>, 
<a href="#valueEquivalence(io.timeandspace.collect.Equivalence)"><code>valueEquivalence(Equivalence)</code></a></dd>
</dl>
</li>
</ul>
<a id="defaultKeyEquivalence()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>defaultKeyEquivalence</h4>
<pre class="methodSignature"><a href="https://static.javadoc.io/com.google.errorprone/error_prone_annotations/2.3.3/com/google/errorprone/annotations/CanIgnoreReturnValue.html?is-external=true" title="class or interface in com.google.errorprone.annotations" class="externalLink">@CanIgnoreReturnValue</a>
<a href="https://static.javadoc.io/org.jetbrains/annotations/17.0.0/org/jetbrains/annotations/Contract.html?is-external=true" title="class or interface in org.jetbrains.annotations" class="externalLink">@Contract</a>(" -&gt; this")
public&nbsp;<a href="SmoothieMapBuilder.html" title="class in io.timeandspace.smoothie">SmoothieMapBuilder</a>&lt;<a href="SmoothieMapBuilder.html" title="type parameter in SmoothieMapBuilder">K</a>,&#8203;<a href="SmoothieMapBuilder.html" title="type parameter in SmoothieMapBuilder">V</a>&gt;&nbsp;defaultKeyEquivalence()</pre>
<div class="block">Sets the <a href="../collect/Equivalence.html" title="class in io.timeandspace.collect"><code>Equivalence</code></a> <a href="../collect/map/ObjObjMap.html#keyEquivalence()">used for comparing keys</a> in SmoothieMaps created with this builder to <a href="../collect/Equivalence.html#defaultEquality()"><code>Equivalence.defaultEquality()</code></a>.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>this builder back</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#keyEquivalence(io.timeandspace.collect.Equivalence)"><code>keyEquivalence(Equivalence)</code></a>, 
<a href="../collect/map/ObjObjMap.html#keyEquivalence()"><code>ObjObjMap.keyEquivalence()</code></a></dd>
</dl>
</li>
</ul>
<a id="keyHashFunction(java.util.function.ToLongFunction)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>keyHashFunction</h4>
<pre class="methodSignature"><a href="https://static.javadoc.io/com.google.errorprone/error_prone_annotations/2.3.3/com/google/errorprone/annotations/CanIgnoreReturnValue.html?is-external=true" title="class or interface in com.google.errorprone.annotations" class="externalLink">@CanIgnoreReturnValue</a>
<a href="https://static.javadoc.io/org.jetbrains/annotations/17.0.0/org/jetbrains/annotations/Contract.html?is-external=true" title="class or interface in org.jetbrains.annotations" class="externalLink">@Contract</a>("_ -&gt; this")
public&nbsp;<a href="SmoothieMapBuilder.html" title="class in io.timeandspace.smoothie">SmoothieMapBuilder</a>&lt;<a href="SmoothieMapBuilder.html" title="type parameter in SmoothieMapBuilder">K</a>,&#8203;<a href="SmoothieMapBuilder.html" title="type parameter in SmoothieMapBuilder">V</a>&gt;&nbsp;keyHashFunction&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/function/ToLongFunction.html?is-external=true" title="class or interface in java.util.function" class="externalLink">ToLongFunction</a>&lt;<a href="SmoothieMapBuilder.html" title="type parameter in SmoothieMapBuilder">K</a>&gt;&nbsp;hashFunction)</pre>
<div class="block">Sets a key hash function to be used in <a href="SmoothieMap.html" title="class in io.timeandspace.smoothie">SmoothieMaps</a> created with
 this builder.

 <p>The default key hash function derives 64-bit hash codes from the 32-bit result of calling
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang" class="externalLink"><code>Object.hashCode()</code></a> on the key objects (or <a href="../collect/Equivalence.html#hash(T)"><code>Equivalence.hash(T)</code></a>, if <a href="#keyEquivalence(io.timeandspace.collect.Equivalence)"><code>keyEquivalence(Equivalence)</code></a> is configured for the builder). This means that if the number
 of entries in the SmoothieMap approaches or exceeds 2^32 (4 billion), a large number of
 hash code collisions is inevitable. Therefore, it's recommended to always configure a custom
 key hash function (using this method) for ultra-large SmoothieMaps.

 <p>The specified hash function must be consistent with <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang" class="externalLink"><code>Object.equals(java.lang.Object)</code></a> on the key
 objects, or a custom key equivalence if specified via <a href="#keyEquivalence(io.timeandspace.collect.Equivalence)"><code>keyEquivalence(Equivalence)</code></a> in
 the same way as <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang" class="externalLink"><code>Object.hashCode()</code></a> must be consistent with <code>equals()</code>. This is
 the user's responsibility to ensure this. When <a href="#keyEquivalence(io.timeandspace.collect.Equivalence)"><code>keyEquivalence(Equivalence)</code></a> is called
 on a builder object, the key hash function, if already configured to a non-default, is
 <i>not</i> reset. On the other hand, if <code>keyHashFunction()</code> (or <a href="#keyHashFunctionFactory(java.util.function.Supplier)"><code>keyHashFunctionFactory(Supplier)</code></a>) is never called on a builder, or <a href="#defaultKeyHashFunction()"><code>defaultKeyHashFunction()</code></a> is called, it's not necessary to configure the key hash function
 along with any custom <a href="#keyEquivalence(io.timeandspace.collect.Equivalence)"><code>keyEquivalence(Equivalence)</code></a> because by default <code>
 SmoothieMapBuilder</code> does respect <a href="../collect/Equivalence.html#hash(T)"><code>Equivalence.hash(T)</code></a>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>hashFunction</code> - a key hash function for each <code>SmoothieMap</code> created using this
 builder</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>this builder back</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/NullPointerException.html?is-external=true" title="class or interface in java.lang" class="externalLink">NullPointerException</a></code> - if the given hash function object is null</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#keyHashFunctionFactory(java.util.function.Supplier)"><code>keyHashFunctionFactory(Supplier)</code></a>, 
<a href="#defaultKeyHashFunction()"><code>defaultKeyHashFunction()</code></a>, 
<a href="#keyEquivalence(io.timeandspace.collect.Equivalence)"><code>keyEquivalence(Equivalence)</code></a></dd>
</dl>
</li>
</ul>
<a id="keyHashFunctionFactory(java.util.function.Supplier)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>keyHashFunctionFactory</h4>
<pre class="methodSignature"><a href="https://static.javadoc.io/com.google.errorprone/error_prone_annotations/2.3.3/com/google/errorprone/annotations/CanIgnoreReturnValue.html?is-external=true" title="class or interface in com.google.errorprone.annotations" class="externalLink">@CanIgnoreReturnValue</a>
<a href="https://static.javadoc.io/org.jetbrains/annotations/17.0.0/org/jetbrains/annotations/Contract.html?is-external=true" title="class or interface in org.jetbrains.annotations" class="externalLink">@Contract</a>("_ -&gt; this")
public&nbsp;<a href="SmoothieMapBuilder.html" title="class in io.timeandspace.smoothie">SmoothieMapBuilder</a>&lt;<a href="SmoothieMapBuilder.html" title="type parameter in SmoothieMapBuilder">K</a>,&#8203;<a href="SmoothieMapBuilder.html" title="type parameter in SmoothieMapBuilder">V</a>&gt;&nbsp;keyHashFunctionFactory&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/function/Supplier.html?is-external=true" title="class or interface in java.util.function" class="externalLink">Supplier</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/function/ToLongFunction.html?is-external=true" title="class or interface in java.util.function" class="externalLink">ToLongFunction</a>&lt;<a href="SmoothieMapBuilder.html" title="type parameter in SmoothieMapBuilder">K</a>&gt;&gt;&nbsp;hashFunctionFactory)</pre>
<div class="block">Sets a factory to obtain a key hash function for each <a href="SmoothieMap.html" title="class in io.timeandspace.smoothie"><code>SmoothieMap</code></a> created using this
 builder. Compared to <a href="#keyHashFunction(java.util.function.ToLongFunction)"><code>keyHashFunction(ToLongFunction)</code></a>, this method allows inserting
 variability or randomness into the hash function:
 <pre><code>
 builder.keyHashFunctionFactory(() -&gt; {
     LongHashFunction hashF = LongHashFunction.xx(ThreadLocalRandom.current().nextLong());
     return hashF::hashChars;
 });</code></pre>

 <p>Hash functions returned by the specified factory must be consistent with <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang" class="externalLink"><code>Object.equals(java.lang.Object)</code></a> on the key objects, or a custom key equivalence if specified via <a href="#keyEquivalence(io.timeandspace.collect.Equivalence)"><code>keyEquivalence(Equivalence)</code></a> in the same way as <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang" class="externalLink"><code>Object.hashCode()</code></a> must be consistent
 with <code>equals()</code>. This is the user's responsibility to ensure the consistency. When
 <a href="#keyEquivalence(io.timeandspace.collect.Equivalence)"><code>keyEquivalence(Equivalence)</code></a> is called on a builder object, the key hash function
 factory, if already configured to a non-default, is <i>not</i> reset. See the Javadoc comment
 for <a href="#keyHashFunction(java.util.function.ToLongFunction)"><code>keyHashFunction(ToLongFunction)</code></a> for more information.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>hashFunctionFactory</code> - the factory to create a key hash function for each <code>
 SmoothieMap</code> created using this builder</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>this builder back</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/NullPointerException.html?is-external=true" title="class or interface in java.lang" class="externalLink">NullPointerException</a></code> - if the given hash function factory object is null</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#keyHashFunction(java.util.function.ToLongFunction)"><code>keyHashFunction(ToLongFunction)</code></a>, 
<a href="#defaultKeyHashFunction()"><code>defaultKeyHashFunction()</code></a></dd>
</dl>
</li>
</ul>
<a id="defaultKeyHashFunction()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>defaultKeyHashFunction</h4>
<pre class="methodSignature"><a href="https://static.javadoc.io/com.google.errorprone/error_prone_annotations/2.3.3/com/google/errorprone/annotations/CanIgnoreReturnValue.html?is-external=true" title="class or interface in com.google.errorprone.annotations" class="externalLink">@CanIgnoreReturnValue</a>
<a href="https://static.javadoc.io/org.jetbrains/annotations/17.0.0/org/jetbrains/annotations/Contract.html?is-external=true" title="class or interface in org.jetbrains.annotations" class="externalLink">@Contract</a>(" -&gt; this")
public&nbsp;<a href="SmoothieMapBuilder.html" title="class in io.timeandspace.smoothie">SmoothieMapBuilder</a>&lt;<a href="SmoothieMapBuilder.html" title="type parameter in SmoothieMapBuilder">K</a>,&#8203;<a href="SmoothieMapBuilder.html" title="type parameter in SmoothieMapBuilder">V</a>&gt;&nbsp;defaultKeyHashFunction()</pre>
<div class="block">Specifies that SmoothieMaps created with this builder should use the default key hash
 function which derives a 64-bit hash code from the 32-bit result of calling <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang" class="externalLink"><code>Object.hashCode()</code></a> on the key object (or <a href="../collect/Equivalence.html#hash(T)"><code>Equivalence.hash(T)</code></a>, if <a href="#keyEquivalence(io.timeandspace.collect.Equivalence)"><code>keyEquivalence(Equivalence)</code></a> is configured for the builder).</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>this builder back</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#keyHashFunction(java.util.function.ToLongFunction)"><code>keyHashFunction(ToLongFunction)</code></a>, 
<a href="#keyHashFunctionFactory(java.util.function.Supplier)"><code>keyHashFunctionFactory(Supplier)</code></a></dd>
</dl>
</li>
</ul>
<a id="valueEquivalence(io.timeandspace.collect.Equivalence)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>valueEquivalence</h4>
<pre class="methodSignature"><a href="https://static.javadoc.io/com.google.errorprone/error_prone_annotations/2.3.3/com/google/errorprone/annotations/CanIgnoreReturnValue.html?is-external=true" title="class or interface in com.google.errorprone.annotations" class="externalLink">@CanIgnoreReturnValue</a>
<a href="https://static.javadoc.io/org.jetbrains/annotations/17.0.0/org/jetbrains/annotations/Contract.html?is-external=true" title="class or interface in org.jetbrains.annotations" class="externalLink">@Contract</a>("_ -&gt; this")
public&nbsp;<a href="SmoothieMapBuilder.html" title="class in io.timeandspace.smoothie">SmoothieMapBuilder</a>&lt;<a href="SmoothieMapBuilder.html" title="type parameter in SmoothieMapBuilder">K</a>,&#8203;<a href="SmoothieMapBuilder.html" title="type parameter in SmoothieMapBuilder">V</a>&gt;&nbsp;valueEquivalence&#8203;(<a href="../collect/Equivalence.html" title="class in io.timeandspace.collect">Equivalence</a>&lt;<a href="SmoothieMapBuilder.html" title="type parameter in SmoothieMapBuilder">V</a>&gt;&nbsp;valueEquivalence)</pre>
<div class="block">Sets the <a href="../collect/Equivalence.html" title="class in io.timeandspace.collect"><code>Equivalence</code></a> <a href="../collect/map/ObjObjMap.html#valueEquivalence()">used for comparing values</a> in
 SmoothieMaps created with this builder to the given equivalence.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>valueEquivalence</code> - the value equivalence to use in created SmoothieMaps</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>this builder back</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/NullPointerException.html?is-external=true" title="class or interface in java.lang" class="externalLink">NullPointerException</a></code> - if the given equivalence object is null</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#defaultValueEquivalence()"><code>defaultValueEquivalence()</code></a>, 
<a href="../collect/map/ObjObjMap.html#valueEquivalence()"><code>ObjObjMap.valueEquivalence()</code></a>, 
<a href="#keyEquivalence(io.timeandspace.collect.Equivalence)"><code>keyEquivalence(Equivalence)</code></a></dd>
</dl>
</li>
</ul>
<a id="defaultValueEquivalence()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>defaultValueEquivalence</h4>
<pre class="methodSignature"><a href="https://static.javadoc.io/com.google.errorprone/error_prone_annotations/2.3.3/com/google/errorprone/annotations/CanIgnoreReturnValue.html?is-external=true" title="class or interface in com.google.errorprone.annotations" class="externalLink">@CanIgnoreReturnValue</a>
<a href="https://static.javadoc.io/org.jetbrains/annotations/17.0.0/org/jetbrains/annotations/Contract.html?is-external=true" title="class or interface in org.jetbrains.annotations" class="externalLink">@Contract</a>(" -&gt; this")
public&nbsp;<a href="SmoothieMapBuilder.html" title="class in io.timeandspace.smoothie">SmoothieMapBuilder</a>&lt;<a href="SmoothieMapBuilder.html" title="type parameter in SmoothieMapBuilder">K</a>,&#8203;<a href="SmoothieMapBuilder.html" title="type parameter in SmoothieMapBuilder">V</a>&gt;&nbsp;defaultValueEquivalence()</pre>
<div class="block">Sets the <a href="../collect/Equivalence.html" title="class in io.timeandspace.collect"><code>Equivalence</code></a> <a href="../collect/map/ObjObjMap.html#valueEquivalence()">used for comparing values</a> in
 SmoothieMaps created with this builder to <a href="../collect/Equivalence.html#defaultEquality()"><code>Equivalence.defaultEquality()</code></a>.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>this builder back</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#valueEquivalence(io.timeandspace.collect.Equivalence)"><code>valueEquivalence(Equivalence)</code></a>, 
<a href="../collect/map/ObjObjMap.html#valueEquivalence()"><code>ObjObjMap.valueEquivalence()</code></a></dd>
</dl>
</li>
</ul>
<a id="expectedSize(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>expectedSize</h4>
<pre class="methodSignature"><a href="https://static.javadoc.io/com.google.errorprone/error_prone_annotations/2.3.3/com/google/errorprone/annotations/CanIgnoreReturnValue.html?is-external=true" title="class or interface in com.google.errorprone.annotations" class="externalLink">@CanIgnoreReturnValue</a>
<a href="https://static.javadoc.io/org.jetbrains/annotations/17.0.0/org/jetbrains/annotations/Contract.html?is-external=true" title="class or interface in org.jetbrains.annotations" class="externalLink">@Contract</a>("_ -&gt; this")
public&nbsp;<a href="SmoothieMapBuilder.html" title="class in io.timeandspace.smoothie">SmoothieMapBuilder</a>&lt;<a href="SmoothieMapBuilder.html" title="type parameter in SmoothieMapBuilder">K</a>,&#8203;<a href="SmoothieMapBuilder.html" title="type parameter in SmoothieMapBuilder">V</a>&gt;&nbsp;expectedSize&#8203;(long&nbsp;expectedSize)</pre>
<div class="block">Specifies the expected <i>steady-state</i> size of each <a href="SmoothieMap.html" title="class in io.timeandspace.smoothie"><code>SmoothieMap</code></a> created using
 this builder. The steady-state size is the map size after it's fully populated (when the map
 is used in a simple populate-then-access pattern), or if entries are dynamically inserted
 into and removed from the map, the steady-state size is the map size at which it should
 eventually balance.

 <p>The default expected size is considered unknown. Calling <a href="#unknownExpectedSize()"><code>unknownExpectedSize()</code></a>
 after this method has been once called on the builder with a specific value overrides that
 values and sets the expected size to be unknown again.

 <p>Calling this method is a performance hint for created SmoothieMap(s) and doesn't affect
 the semantics of operations. The configured value must not be the exact steady-state size of
 a created SmoothieMap, but it should be within 5% from the actual steady-state size. If the
 steady-state size of created SmoothieMap(s) cannot be known with this level of precision,
 configuring <code>expectedSize()</code> might make more harm than good and therefore shouldn't be
 done. <a href="#minPeakSize(long)"><code>minPeakSize(long)</code></a> might be known with more confidence though and it's
 recommended to configure it instead.

 <p>In theory, the <a href="#minPeakSize(long)">minimum peak size</a> might be less than the
 expected size by at most 5% (higher difference is not possible if the expected size is
 configured according with the configuration above). If both expected size and minimum peak
 size are specified and the latter is less than the former by more than 5% an <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang" class="externalLink"><code>IllegalStateException</code></a> is thrown when <a href="#build()"><code>build()</code></a> is called.

 <p>Most often, the minimum peak size should be equal to the expected size (e. g. in the
 populate-then-access usage pattern, there is no ground for differentiating the peak and the
 expected sizes). Because of this, by default, if the expected size is configured for a
 builder and the minimum peak size is not configured, the expected size is used as a
 substitute for the minimum peak size.

 <p>When entries are dynamically put into and removed from a SmoothieMap, the minimum peak
 size might also be greater than the expected size, if after reaching the peak size
 SmoothieMaps are consistently expected to shrink. This might also be the case
 when X entries are first inserted into a SmoothieMap and then some entries are removed until
 the map reduces to some specific size Y smaller than X.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>expectedSize</code> - the expected steady-state size of created SmoothieMaps</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>this builder back</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang" class="externalLink">IllegalArgumentException</a></code> - if the provided expected size is not positive</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#unknownExpectedSize()"><code>unknownExpectedSize()</code></a>, 
<a href="#minPeakSize(long)"><code>minPeakSize(long)</code></a></dd>
</dl>
</li>
</ul>
<a id="unknownExpectedSize()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>unknownExpectedSize</h4>
<pre class="methodSignature"><a href="https://static.javadoc.io/com.google.errorprone/error_prone_annotations/2.3.3/com/google/errorprone/annotations/CanIgnoreReturnValue.html?is-external=true" title="class or interface in com.google.errorprone.annotations" class="externalLink">@CanIgnoreReturnValue</a>
<a href="https://static.javadoc.io/org.jetbrains/annotations/17.0.0/org/jetbrains/annotations/Contract.html?is-external=true" title="class or interface in org.jetbrains.annotations" class="externalLink">@Contract</a>(" -&gt; this")
public&nbsp;<a href="SmoothieMapBuilder.html" title="class in io.timeandspace.smoothie">SmoothieMapBuilder</a>&lt;<a href="SmoothieMapBuilder.html" title="type parameter in SmoothieMapBuilder">K</a>,&#8203;<a href="SmoothieMapBuilder.html" title="type parameter in SmoothieMapBuilder">V</a>&gt;&nbsp;unknownExpectedSize()</pre>
<div class="block">Specifies that the expected size of each <a href="SmoothieMap.html" title="class in io.timeandspace.smoothie"><code>SmoothieMap</code></a> created using this builder is
 unknown.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>this builder back</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#expectedSize(long)"><code>expectedSize(long)</code></a></dd>
</dl>
</li>
</ul>
<a id="minPeakSize(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>minPeakSize</h4>
<pre class="methodSignature"><a href="https://static.javadoc.io/com.google.errorprone/error_prone_annotations/2.3.3/com/google/errorprone/annotations/CanIgnoreReturnValue.html?is-external=true" title="class or interface in com.google.errorprone.annotations" class="externalLink">@CanIgnoreReturnValue</a>
<a href="https://static.javadoc.io/org.jetbrains/annotations/17.0.0/org/jetbrains/annotations/Contract.html?is-external=true" title="class or interface in org.jetbrains.annotations" class="externalLink">@Contract</a>("_ -&gt; this")
public&nbsp;<a href="SmoothieMapBuilder.html" title="class in io.timeandspace.smoothie">SmoothieMapBuilder</a>&lt;<a href="SmoothieMapBuilder.html" title="type parameter in SmoothieMapBuilder">K</a>,&#8203;<a href="SmoothieMapBuilder.html" title="type parameter in SmoothieMapBuilder">V</a>&gt;&nbsp;minPeakSize&#8203;(long&nbsp;minPeakSize)</pre>
<div class="block">Specifies the minimum bound of the <i>peak</i> size of each <a href="SmoothieMap.html" title="class in io.timeandspace.smoothie"><code>SmoothieMap</code></a> created
 using this builder. For example, it may be unknown what size the created SmoothieMap will
 have after it is fully populated (or reaches "saturation" if entries are dynamically put into
 and removed from the map): 1 million entries, or 2 million, or 3 million. But if it known
 that under no circumstance the peak size of the map will be less than 1 million, then it
 makes sense to configure this bound via this method.

 <p>The default minimum bound for the peak size of created SmoothieMaps is considered unknown,
 or 0. However, to configure unknown minimum bound of the peak size (the override a specific
 values which may have been once specified for the builder), <a href="#unknownMinPeakSize()"><code>unknownMinPeakSize()</code></a>
 should be called and not this method.

 <p>Calling this method is a performance hint for created SmoothieMap(s) and doesn't affect
 the semantics of operations. The configured value may be used to preallocate data structure
 when a SmoothieMap is created, so it's better to err towards a value lower than the actual
 peak size than towards a value higher than the actual peak size, especially when the
 <a href="#optimizeFor(io.timeandspace.smoothie.OptimizationObjective)">optimization objective</a> is set to <a href="OptimizationObjective.html#LOW_GARBAGE"><code>OptimizationObjective.LOW_GARBAGE</code></a>.

 <p>If the minimum peak size is not configured for a SmoothieMapBuilder, but <a href="#expectedSize(long)">expected size</a> is configured, the minimum peak size of created maps is
 assumed to be equal to the expected size, although in some cases it may be about 5% less than
 that even if the expected size is configured properly. If this is the case, configure the
 minimum peak size along with the expected size explicitly. See the documentation for <a href="#expectedSize(long)"><code>expectedSize(long)</code></a> method for more information.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>minPeakSize</code> - the minimum bound for the peak size of created SmoothieMaps</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>this builder back</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang" class="externalLink">IllegalArgumentException</a></code> - if the provided minimum peak size is not positive</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#unknownMinPeakSize()"><code>unknownMinPeakSize()</code></a>, 
<a href="#expectedSize(long)"><code>expectedSize(long)</code></a></dd>
</dl>
</li>
</ul>
<a id="unknownMinPeakSize()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>unknownMinPeakSize</h4>
<pre class="methodSignature"><a href="https://static.javadoc.io/com.google.errorprone/error_prone_annotations/2.3.3/com/google/errorprone/annotations/CanIgnoreReturnValue.html?is-external=true" title="class or interface in com.google.errorprone.annotations" class="externalLink">@CanIgnoreReturnValue</a>
<a href="https://static.javadoc.io/org.jetbrains/annotations/17.0.0/org/jetbrains/annotations/Contract.html?is-external=true" title="class or interface in org.jetbrains.annotations" class="externalLink">@Contract</a>(" -&gt; this")
public&nbsp;<a href="SmoothieMapBuilder.html" title="class in io.timeandspace.smoothie">SmoothieMapBuilder</a>&lt;<a href="SmoothieMapBuilder.html" title="type parameter in SmoothieMapBuilder">K</a>,&#8203;<a href="SmoothieMapBuilder.html" title="type parameter in SmoothieMapBuilder">V</a>&gt;&nbsp;unknownMinPeakSize()</pre>
<div class="block">Specifies that the minimum bound of the peak size of each <a href="SmoothieMap.html" title="class in io.timeandspace.smoothie"><code>SmoothieMap</code></a> created using
 this builder is unknown.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>this builder back</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#minPeakSize(long)"><code>minPeakSize(long)</code></a></dd>
</dl>
</li>
</ul>
<a id="build()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>build</h4>
<pre class="methodSignature"><a href="https://static.javadoc.io/org.jetbrains/annotations/17.0.0/org/jetbrains/annotations/Contract.html?is-external=true" title="class or interface in org.jetbrains.annotations" class="externalLink">@Contract</a>(" -&gt; new")
public&nbsp;<a href="SmoothieMap.html" title="class in io.timeandspace.smoothie">SmoothieMap</a>&lt;<a href="SmoothieMapBuilder.html" title="type parameter in SmoothieMapBuilder">K</a>,&#8203;<a href="SmoothieMapBuilder.html" title="type parameter in SmoothieMapBuilder">V</a>&gt;&nbsp;build()</pre>
<div class="block">Creates a new <a href="SmoothieMap.html" title="class in io.timeandspace.smoothie"><code>SmoothieMap</code></a> with the configurations from this builder. The created
 <code>SmoothieMap</code> doesn't hold an internal reference to the builder, and all subsequent
 changes to the builder doesn't affect the configurations of the map.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a new <code>SmoothieMap</code> with the configurations from this builder</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/SmoothieMapBuilder.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
</footer>
</body>
</html>
